{
  "hash": "e925a1c2f135099aa74ea369a5cae7d6",
  "result": {
    "markdown": "---\ntitle: \"How to use Quarto for Parameterized Reporting\"\ndescription: |\n  You know. If you wanna.\nauthor:\n  - name: Mike Mahoney\n    url: {}\ndate: \"2022-08-05\"\ncategories: [\"R\", \"Tutorials\", \"Quarto\"]\nimage: elevator.jpg\nformat: \n  html:\n    df-print: paged\n    toc: true\nengine: knitr\n---\n\n\nThere's a lot of conversations around about [Quarto](https://quarto.org/) as a new system for technical communication. And that's well deserved! Quarto, the successor to the R Markdown system, extends and improves upon its predecessor and produces downright beautiful documents (including this very website).\n\nBut as a recovering data analyst, the thing that I'm most excited about with Quarto is its ability to generate reports based on a document template and a handful of parameter values. A whole lot of my professional career has amounted to \"report out the same handful of KPIs every day (or month, or quarter), aggregated to each relevant business unit and a handful of combined groups.\" R Markdown's parameterized reporting let me automate that boring stuff and spend my time on more fun (and higher impact) projects, and Quarto supports more or less the same style of templating. As such, this blog post walks through how you can use parameterization to automate your own reporting with Quarto.\n\n# A Simple Script\n\nLet's say that you have a colleague who's really into elevators (like, inexplicably interested in elevators). Because of this interest, and because you're already working on a blog post showing off how cool Quarto is, you decide to use data about elevators in a small example script you're working on to make them happy.\n\nWell, luckily enough, my colleague Emil Hvitfeldt has [a package on GitHub with data about elevators](https://github.com/EmilHvitfeldt/elevators/). Let's install it now:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# install.packages(\"remotes\")\nremotes::install_github(\"EmilHvitfeldt/elevators\")\n```\n:::\n\n\nThis package includes a tibble, `elevators`, which contains quite a few observations of quite a few variables describing the elevators throughout New York City:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nelevators::elevators |> head(20)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"\"],\"name\":[\"_rn_\"],\"type\":[\"\"],\"align\":[\"left\"]},{\"label\":[\"device_number\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"bin\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"tax_block\"],\"name\":[3],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"tax_lot\"],\"name\":[4],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"house_number\"],\"name\":[5],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"street_name\"],\"name\":[6],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"zip_code\"],\"name\":[7],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"borough\"],\"name\":[8],\"type\":[\"fct\"],\"align\":[\"left\"]},{\"label\":[\"device_type\"],\"name\":[9],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"lastper_insp_date\"],\"name\":[10],\"type\":[\"date\"],\"align\":[\"right\"]},{\"label\":[\"approval_date\"],\"name\":[11],\"type\":[\"date\"],\"align\":[\"right\"]},{\"label\":[\"manufacturer\"],\"name\":[12],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"travel_distance\"],\"name\":[13],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"speed_fpm\"],\"name\":[14],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"capacity_lbs\"],\"name\":[15],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"car_buffer_type\"],\"name\":[16],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"governor_type\"],\"name\":[17],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"machine_type\"],\"name\":[18],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"safety_type\"],\"name\":[19],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"mode_operation\"],\"name\":[20],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"floor_from\"],\"name\":[21],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"floor_to\"],\"name\":[22],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"latitude\"],\"name\":[23],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"longitude\"],\"name\":[24],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"elevators_per_building\"],\"name\":[25],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"1D10028\",\"2\":\"1024795\",\"3\":\"1021\",\"4\":\"26\",\"5\":\"1614\",\"6\":\"BROADWAY\",\"7\":\"10019\",\"8\":\"Manhattan\",\"9\":\"Dumbwaiter\",\"10\":\"2015-09-18\",\"11\":\"2006-03-07\",\"12\":\"NA\",\"13\":\"16'4\\\"\",\"14\":\"50\",\"15\":\"500\",\"16\":\"Spring\",\"17\":\"NA\",\"18\":\"NA\",\"19\":\"I\",\"20\":\"A\",\"21\":\"B\",\"22\":\"1\",\"23\":\"40.76088\",\"24\":\"-73.98391\",\"25\":\"11\",\"_rn_\":\"1\"},{\"1\":\"1D10094\",\"2\":\"1041822\",\"3\":\"1392\",\"4\":\"25\",\"5\":\"53\",\"6\":\"E 77TH ST\",\"7\":\"10021\",\"8\":\"Manhattan\",\"9\":\"Dumbwaiter\",\"10\":\"2015-08-07\",\"11\":\"2006-05-15\",\"12\":\"NA\",\"13\":\"NA\",\"14\":\"25\",\"15\":\"500\",\"16\":\"NA\",\"17\":\"NA\",\"18\":\"OD\",\"19\":\"NA\",\"20\":\"P\",\"21\":\"SB\",\"22\":\"3\",\"23\":\"40.77502\",\"24\":\"-73.96256\",\"25\":\"2\",\"_rn_\":\"2\"},{\"1\":\"1D10097\",\"2\":\"1038223\",\"3\":\"1323\",\"4\":\"1\",\"5\":\"201\",\"6\":\"E 49 ST\",\"7\":\"10017\",\"8\":\"Manhattan\",\"9\":\"Dumbwaiter\",\"10\":\"2015-04-02\",\"11\":\"1998-09-21\",\"12\":\"NA\",\"13\":\"23\",\"14\":\"50\",\"15\":\"500\",\"16\":\"NA\",\"17\":\"NA\",\"18\":\"BD\",\"19\":\"I\",\"20\":\"A\",\"21\":\"B\",\"22\":\"2\",\"23\":\"40.75518\",\"24\":\"-73.97079\",\"25\":\"1\",\"_rn_\":\"3\"},{\"1\":\"1D10146\",\"2\":\"1080443\",\"3\":\"1274\",\"4\":\"6\",\"5\":\"40\",\"6\":\"CENTRAL PARK SOUTH\",\"7\":\"NA\",\"8\":\"Manhattan\",\"9\":\"Dumbwaiter\",\"10\":\"2014-10-15\",\"11\":\"2010-08-02\",\"12\":\"NA\",\"13\":\"8'\",\"14\":\"50\",\"15\":\"500\",\"16\":\"NA\",\"17\":\"NA\",\"18\":\"BD\",\"19\":\"NA\",\"20\":\"A\",\"21\":\"B\",\"22\":\"1\",\"23\":\"40.76500\",\"24\":\"-73.97573\",\"25\":\"1\",\"_rn_\":\"4\"},{\"1\":\"1D10200\",\"2\":\"1085777\",\"3\":\"1074\",\"4\":\"24\",\"5\":\"651\",\"6\":\"TENTH AVENUE\",\"7\":\"NA\",\"8\":\"Manhattan\",\"9\":\"Dumbwaiter\",\"10\":\"2015-06-15\",\"11\":\"2001-04-24\",\"12\":\"NA\",\"13\":\"24 FT\",\"14\":\"50\",\"15\":\"NA\",\"16\":\"NA\",\"17\":\"NA\",\"18\":\"NA\",\"19\":\"NA\",\"20\":\"NA\",\"21\":\"C\",\"22\":\"G\",\"23\":\"40.76221\",\"24\":\"-73.99434\",\"25\":\"2\",\"_rn_\":\"5\"},{\"1\":\"1D10301\",\"2\":\"1002075\",\"3\":\"181\",\"4\":\"16\",\"5\":\"179\",\"6\":\"FRANKLIN STREET\",\"7\":\"10013\",\"8\":\"Manhattan\",\"9\":\"Dumbwaiter\",\"10\":\"2015-02-25\",\"11\":\"2002-11-06\",\"12\":\"NA\",\"13\":\"9'0\",\"14\":\"50\",\"15\":\"500\",\"16\":\"NA\",\"17\":\"NA\",\"18\":\"OD\",\"19\":\"I\",\"20\":\"A\",\"21\":\"BAS\",\"22\":\"1\",\"23\":\"40.71918\",\"24\":\"-74.00962\",\"25\":\"2\",\"_rn_\":\"6\"},{\"1\":\"1D10302\",\"2\":\"1010518\",\"3\":\"606\",\"4\":\"4\",\"5\":\"121\",\"6\":\"WEST 10 STREET\",\"7\":\"10011\",\"8\":\"Manhattan\",\"9\":\"Dumbwaiter\",\"10\":\"2014-04-14\",\"11\":\"2003-01-22\",\"12\":\"NA\",\"13\":\"12'0\\\"\",\"14\":\"50\",\"15\":\"300\",\"16\":\"Spring\",\"17\":\"NA\",\"18\":\"OD\",\"19\":\"I\",\"20\":\"A\",\"21\":\"B\",\"22\":\"1\",\"23\":\"40.73486\",\"24\":\"-73.99974\",\"25\":\"1\",\"_rn_\":\"7\"},{\"1\":\"1D10303\",\"2\":\"1085955\",\"3\":\"1329\",\"4\":\"1\",\"5\":\"915\",\"6\":\"3 AVENUE\",\"7\":\"10022\",\"8\":\"Manhattan\",\"9\":\"Dumbwaiter\",\"10\":\"2015-03-26\",\"11\":\"2002-12-11\",\"12\":\"NA\",\"13\":\"23'1\\\"\",\"14\":\"50\",\"15\":\"500\",\"16\":\"NA\",\"17\":\"NA\",\"18\":\"BD\",\"19\":\"NA\",\"20\":\"A\",\"21\":\"C\",\"22\":\"2\",\"23\":\"40.75896\",\"24\":\"-73.96759\",\"25\":\"1\",\"_rn_\":\"8\"},{\"1\":\"1D10304\",\"2\":\"1044058\",\"3\":\"1430\",\"4\":\"5\",\"5\":\"220\",\"6\":\"E. 76 ST\",\"7\":\"10021\",\"8\":\"Manhattan\",\"9\":\"Dumbwaiter\",\"10\":\"2015-09-09\",\"11\":\"2002-12-10\",\"12\":\"NA\",\"13\":\"49'\",\"14\":\"50\",\"15\":\"500\",\"16\":\"NA\",\"17\":\"NA\",\"18\":\"OG\",\"19\":\"I\",\"20\":\"A\",\"21\":\"BMT\",\"22\":\"4\",\"23\":\"40.77154\",\"24\":\"-73.95782\",\"25\":\"1\",\"_rn_\":\"9\"},{\"1\":\"1D10305\",\"2\":\"1087468\",\"3\":\"1951\",\"4\":\"4\",\"5\":\"133\",\"6\":\"MORNINGSIDE AVENUE\",\"7\":\"NA\",\"8\":\"Manhattan\",\"9\":\"Dumbwaiter\",\"10\":\"2014-11-25\",\"11\":\"2003-12-01\",\"12\":\"NA\",\"13\":\"73-10\",\"14\":\"100\",\"15\":\"500\",\"16\":\"NA\",\"17\":\"NA\",\"18\":\"OG\",\"19\":\"NA\",\"20\":\"P\",\"21\":\"C\",\"22\":\"5\",\"23\":\"40.81095\",\"24\":\"-73.95376\",\"25\":\"5\",\"_rn_\":\"10\"},{\"1\":\"1D10306\",\"2\":\"1087468\",\"3\":\"1951\",\"4\":\"4\",\"5\":\"133\",\"6\":\"MORNINGSIDE AVENUE\",\"7\":\"NA\",\"8\":\"Manhattan\",\"9\":\"Dumbwaiter\",\"10\":\"2014-11-25\",\"11\":\"2003-12-01\",\"12\":\"NA\",\"13\":\"73-10\",\"14\":\"100\",\"15\":\"500\",\"16\":\"NA\",\"17\":\"NA\",\"18\":\"OG\",\"19\":\"NA\",\"20\":\"A\",\"21\":\"C\",\"22\":\"5\",\"23\":\"40.81095\",\"24\":\"-73.95376\",\"25\":\"5\",\"_rn_\":\"11\"},{\"1\":\"1D10308\",\"2\":\"1041820\",\"3\":\"1392\",\"4\":\"12\",\"5\":\"19\",\"6\":\"E 77TH ST\",\"7\":\"10021\",\"8\":\"Manhattan\",\"9\":\"Dumbwaiter\",\"10\":\"2013-06-18\",\"11\":\"2004-03-25\",\"12\":\"NA\",\"13\":\"20\\\"8\\\"\",\"14\":\"50\",\"15\":\"200\",\"16\":\"NA\",\"17\":\"NA\",\"18\":\"NA\",\"19\":\"NA\",\"20\":\"A\",\"21\":\"B,1\",\"22\":\"2\",\"23\":\"40.77542\",\"24\":\"-73.96348\",\"25\":\"1\",\"_rn_\":\"12\"},{\"1\":\"1D10309\",\"2\":\"1003919\",\"3\":\"304\",\"4\":\"2\",\"5\":\"97\",\"6\":\"BOWERY\",\"7\":\"10002\",\"8\":\"Manhattan\",\"9\":\"Dumbwaiter\",\"10\":\"2014-04-23\",\"11\":\"2003-05-05\",\"12\":\"NA\",\"13\":\"16'1\\\"\",\"14\":\"50\",\"15\":\"500\",\"16\":\"NA\",\"17\":\"NA\",\"18\":\"OD\",\"19\":\"I\",\"20\":\"P\",\"21\":\"B\",\"22\":\"2\",\"23\":\"40.71733\",\"24\":\"-73.99503\",\"25\":\"2\",\"_rn_\":\"13\"},{\"1\":\"1D10310\",\"2\":\"1085024\",\"3\":\"1041\",\"4\":\"44\",\"5\":\"324\",\"6\":\"WEST   51 STREET\",\"7\":\"NA\",\"8\":\"Manhattan\",\"9\":\"Dumbwaiter\",\"10\":\"2015-06-09\",\"11\":\"2003-03-10\",\"12\":\"NA\",\"13\":\"9'2'\",\"14\":\"50\",\"15\":\"300\",\"16\":\"Spring\",\"17\":\"NA\",\"18\":\"BD\",\"19\":\"I\",\"20\":\"C\",\"21\":\"B\",\"22\":\"1\",\"23\":\"40.76320\",\"24\":\"-73.98689\",\"25\":\"1\",\"_rn_\":\"14\"},{\"1\":\"1D10311\",\"2\":\"1001486\",\"3\":\"136\",\"4\":\"27\",\"5\":\"110\",\"6\":\"CHAMBERS ST\",\"7\":\"10007\",\"8\":\"Manhattan\",\"9\":\"Dumbwaiter\",\"10\":\"2015-02-19\",\"11\":\"2003-06-20\",\"12\":\"NA\",\"13\":\"24'10\",\"14\":\"50\",\"15\":\"500\",\"16\":\"NA\",\"17\":\"NA\",\"18\":\"OD\",\"19\":\"I\",\"20\":\"P\",\"21\":\"B\",\"22\":\"2\",\"23\":\"40.71488\",\"24\":\"-74.00833\",\"25\":\"1\",\"_rn_\":\"15\"},{\"1\":\"1D10313\",\"2\":\"1041283\",\"3\":\"1383\",\"4\":\"60\",\"5\":\"16\",\"6\":\"EAST 69 STREET\",\"7\":\"10021\",\"8\":\"Manhattan\",\"9\":\"Dumbwaiter\",\"10\":\"2013-06-10\",\"11\":\"2004-06-29\",\"12\":\"NA\",\"13\":\"11\",\"14\":\"50\",\"15\":\"500\",\"16\":\"NA\",\"17\":\"NA\",\"18\":\"NA\",\"19\":\"I\",\"20\":\"A\",\"21\":\"1F\",\"22\":\"2R\",\"23\":\"40.76985\",\"24\":\"-73.96744\",\"25\":\"2\",\"_rn_\":\"16\"},{\"1\":\"1D10314\",\"2\":\"1046656\",\"3\":\"1492\",\"4\":\"146\",\"5\":\"40\",\"6\":\"EAST 81 STREET\",\"7\":\"10028\",\"8\":\"Manhattan\",\"9\":\"Dumbwaiter\",\"10\":\"2012-12-06\",\"11\":\"2003-12-23\",\"12\":\"NA\",\"13\":\"9.75\",\"14\":\"25\",\"15\":\"75\",\"16\":\"NA\",\"17\":\"NA\",\"18\":\"OD\",\"19\":\"NA\",\"20\":\"A\",\"21\":\"1\",\"22\":\"2\",\"23\":\"40.77718\",\"24\":\"-73.96068\",\"25\":\"1\",\"_rn_\":\"17\"},{\"1\":\"1D10315\",\"2\":\"1001480\",\"3\":\"136\",\"4\":\"7503\",\"5\":\"60\",\"6\":\"WARREN STREET\",\"7\":\"10007\",\"8\":\"Manhattan\",\"9\":\"Dumbwaiter\",\"10\":\"2015-02-24\",\"11\":\"2007-01-09\",\"12\":\"NA\",\"13\":\"37.6\",\"14\":\"50\",\"15\":\"75\",\"16\":\"Spring\",\"17\":\"NA\",\"18\":\"BG\",\"19\":\"NA\",\"20\":\"A\",\"21\":\"6\",\"22\":\"9\",\"23\":\"40.71501\",\"24\":\"-74.00933\",\"25\":\"1\",\"_rn_\":\"18\"},{\"1\":\"1D10316\",\"2\":\"1024656\",\"3\":\"1013\",\"4\":\"29\",\"5\":\"592\",\"6\":\"SEVENTH AVE\",\"7\":\"10036\",\"8\":\"Manhattan\",\"9\":\"Dumbwaiter\",\"10\":\"2015-09-16\",\"11\":\"2003-06-09\",\"12\":\"NA\",\"13\":\"23\\\"0\",\"14\":\"50\",\"15\":\"500\",\"16\":\"NA\",\"17\":\"NA\",\"18\":\"OD\",\"19\":\"NA\",\"20\":\"A\",\"21\":\"1MZ\",\"22\":\"2\",\"23\":\"40.75586\",\"24\":\"-73.98757\",\"25\":\"4\",\"_rn_\":\"19\"},{\"1\":\"1D10323\",\"2\":\"1053310\",\"3\":\"1718\",\"4\":\"159\",\"5\":\"58\",\"6\":\"WEST 120 STREET\",\"7\":\"10027\",\"8\":\"Manhattan\",\"9\":\"Dumbwaiter\",\"10\":\"2014-12-16\",\"11\":\"2003-08-01\",\"12\":\"NA\",\"13\":\"9'6\\\"\",\"14\":\"50\",\"15\":\"3000\",\"16\":\"Spring\",\"17\":\"NA\",\"18\":\"BD\",\"19\":\"I\",\"20\":\"C\",\"21\":\"C\",\"22\":\"1\",\"23\":\"40.80388\",\"24\":\"-73.94674\",\"25\":\"1\",\"_rn_\":\"20\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\nBecause all you're doing is writing a small example script, you just grab a few variables at random and plot them in a pretty simple Quarto document. That `.qmd` looks like this:\n\n```` markdown\n---\ntitle: \"Cool graphs about elevators\"\nauthor: Mike Mahoney\nsubtitle: \"Last generated on:\"\ndate: today\nformat:\n  html:\n    echo: false\n---\n\n```{{r}}\n#| message: false\nlibrary(elevators)\nlibrary(ggplot2)\ntheme_set(theme_minimal())\n```\n\n## Speed over time\n\n```{{r}}\n#| message: false\n#| warning: false\nelevators |>\n  ggplot(aes(approval_date, speed_fpm)) +\n  geom_point(alpha = 0.05) +\n  geom_smooth() +\n  scale_y_log10()\n```\n\n## Speed versus capacity\n\n```{{r}}\n#| message: false\n#| warning: false\nelevators |>\n  ggplot(aes(capacity_lbs, speed_fpm)) +\n  geom_point(alpha = 0.05) +\n  geom_smooth() +\n  scale_y_log10()\n```\n\n## Where in the world did all my elevators go\n\n```{{r}}\nelevators |>\n  ggplot(aes(longitude, latitude)) + \n  geom_point(alpha = 0.05) +\n  coord_sf()\n```\n````\n\n\n\n(You can see what this looks like when rendered over at [this link](../../junkdrawer/a-simple-script/).)\n\nWith your small example all set, you rush off to show it to friends and family before officially publishing it to the web.\n\n# Parameterized Reports\n\nYour colleague likes your report! However, as it goes when you show people a graph, they have _questions_. They want to know: what would these graphs look like for only Manhattan?\n\nThis isn't your first time [giving a colleague some data](https://en.wikipedia.org/wiki/If_You_Give_a_Mouse_a_Cookie), and so you know better than to just scrape the data and email them a number. Instead, you edit your Quarto file so that it could filter to any borough, and make it easy to change the filter based on [Quarto parameters](https://quarto.org/docs/computations/parameters.html):\n\n```` markdown\n---\ntitle: \"Cool graphs about elevators\"\nauthor: Mike Mahoney\nsubtitle: \"Last generated on: 2023-06-12\"\ndate: today\nformat: \n  html: \n    echo: false\nparams: \n  borough: \"NA\"\n---\n\n```{{r}}\n#| message: false\nlibrary(elevators)\n\nif (!is.na(params$borough) && params$borough != \"NA\") {\n  elevators <- elevators[elevators$borough == params$borough, ]\n}\nif (nrow(elevators) == 0) {\n  stop(\"No elevators were selected. Did you misspell `borough`?\")\n}\n\nlibrary(ggplot2)\ntheme_set(theme_minimal())\n```\n\n## Speed over time\n\n```{{r}}\n#| message: false\n#| warning: false\nelevators |> \n  ggplot(aes(approval_date, speed_fpm)) + \n  geom_point(alpha = 0.05) + \n  geom_smooth() + \n  scale_y_log10()\n```\n\n## Speed versus capacity\n\n```{{r}}\n#| message: false\n#| warning: false\nelevators |> \n  ggplot(aes(capacity_lbs, speed_fpm)) + \n  geom_point(alpha = 0.05) + \n  geom_smooth() + \n  scale_y_log10()\n```\n\n## Where in the world did all my elevators go\n\n```{{r}}\nelevators |> \n  ggplot(aes(longitude, latitude)) + \n  geom_point(alpha = 0.05) + \n  coord_sf()\n```\n````\n\n\n\nNow, by default, this output looks [the same as the last time](../../junkdrawer/parameterized-reports/). However, when we run `quarto render` now, we can either pass parameters on the command line, for instance using:\n\n```bash\nquarto render elevators.qmd -P borough:Manhattan\n```\n\nOr, we can write a YAML file with our parameters (say, `params.yml`): \n\n```yaml\nborough: Manhattan\n```\n\nAnd call `quarto render` via:\n\n```bash\nquarto render elevators.qmd --execute-params params.yml\n```\n\n(The results of this approach are at [this link](../../junkdrawer/parameterized-reports/manhattan).)\n\nThis will make it easier to re-run your report every time your colleague comes to you with \"one last\" request.\n\nOr, heck, if they have R installed you can make them run it themselves. You spend an hour bashing out a Shiny app and save it in the same folder as `elevators.qmd`:\n\n```r\nrequired_packages <- c(\"shiny\", \"ggplot2\", \"quarto\", \"rmarkdown\", \"remotes\")\nfor (x in required_packages) {\n  if (!requireNamespace(x, quietly = TRUE)) install.packages(x)\n}\nif (!requireNamespace(\"elevators\", quietly = TRUE)) {\n  remotes::install_github(\"EmilHvitfeldt/elevators\")\n}\n\nlibrary(shiny)\nelevators <- elevators::elevators\n\nui <- fluidPage(\n\n    titlePanel(\"Self-Service Elevator Analytics\"),\n\n    selectizeInput(\n        \"borough\",\n        \"Borough:\",\n        c(\"NA\", unique(as.character(elevators$borough)))),\n\n    actionButton(\n        \"render\",\n        \"Render!\"\n    ),\n\n    textOutput(\"status\")\n)\n\nserver <- function(input, output) {\n\n    output$status <- renderText({\n        if (input$render) {\n            isolate(\n                quarto::quarto_render(\n                    \"elevators.qmd\",\n                    execute_params = list(borough = input$borough)\n                )\n            )\n            paste(\"Rendering complete at\", Sys.time())\n        }\n    })\n\n}\n\nshinyApp(ui = ui, server = server)\n```\n\nNow your colleague just needs to open the file in RStudio, click the cute little \"Run App\" button, and then they can answer all elevator questions to their heart's content. If you set up your Quarto document to generate PDFs, they can even email their reports to other elevator enthusiasts.\n\n# More Complicated Logic\n\nYour app has been a hit with your colleague! In fact, possibly too much of a hit. After a recent [trip](https://github.com/rstudio/rstudio-conf-2022-program), they've collected a bunch more data reflecting elevators across Maryland, and are wondering if you'd be able to extend your report to support this new dataset as well.\n\nYou have now become appropriately resigned to the fact that you are now \"the elevator guy\", and will have weird facts about elevator speeds stored in your brain until the end of time. So you start digging into the Maryland data:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nelevators::md_elevators |> head(20)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"\"],\"name\":[\"_rn_\"],\"type\":[\"\"],\"align\":[\"left\"]},{\"label\":[\"location_name\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"location_type\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"county\"],\"name\":[3],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"location_address\"],\"name\":[4],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"registration_number\"],\"name\":[5],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"status\"],\"name\":[6],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"certificate_expiration_date\"],\"name\":[7],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"equipment_type\"],\"name\":[8],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"equipment_capacity\"],\"name\":[9],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"equipment_speed\"],\"name\":[10],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"equipment_travel\"],\"name\":[11],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"owner_contact\"],\"name\":[12],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"owner_contact_2\"],\"name\":[13],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"inspection_type\"],\"name\":[14],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"last_inspection_date\"],\"name\":[15],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"111 Cathedral Street\",\"2\":\"Private\",\"3\":\"Anne Arundel\",\"4\":\"111 Cathedral St , Annapolis , MD , 21401-2701 , Anne Arundel\",\"5\":\"AA1000\",\"6\":\"Active\",\"7\":\"2023-03-01\",\"8\":\"Hydraulic Basement (HB)\",\"9\":\"1500\",\"10\":\"100\",\"11\":\"22 feet 3 inches\",\"12\":\"[{:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Annapolis\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21401\\\", :phoneUnlisted nil, :line2 \\\"\\\", :privacyWaiver nil, :cell nil, :line1 \\\"111 Cathedral St Suite 100\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType {:id \\\"609e88adb8d2b5e2d7fc843a\\\", :name \\\"Mailing\\\"}, :email nil, :additionalData {}, :phone \\\"\\\", :name \\\"111 Cathedral Street LLC\\\", :title \\\"\\\", :id \\\"4564608\\\", :company \\\"111 Cathedral Street LLC\\\"} {:id \\\"4564609\\\", :name \\\"STURSA FAMILY, LTD., PTN.\\\", :company \\\"STURSA FAMILY, LTD., PTN.\\\", :title nil, :address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"ANNAPOLIS\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21401\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"2525 RIVA ROAD, SUITE 110\\\", :country nil, :faxUnlisted nil}, :phone \\\"410-268-8400\\\", :fax \\\"410-268-9592\\\", :email nil} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Annapolis\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21403\\\", :phoneUnlisted nil, :line2 \\\"435 4th St\\\", :privacyWaiver nil, :cell nil, :line1 \\\"\\\", :country nil, :faxUnlisted nil}, :fax \\\"410-268-9592\\\", :contactType {:id \\\"609e88bbb8d2b5e2d7fc843b\\\", :name \\\"Owner\\\"}, :email nil, :additionalData {}, :phone \\\"410-268-8400\\\", :name \\\"Sandra Friedman\\\", :title \\\"Property Manager\\\", :id \\\"4978893\\\", :company \\\"Stursa Family LP c/o Innovative Properties Inc\\\"} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Annapolis\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21403\\\", :phoneUnlisted nil, :line2 \\\"435 4th St\\\", :privacyWaiver nil, :cell nil, :line1 \\\"\\\", :country nil, :faxUnlisted nil}, :fax \\\"410-268-9592\\\", :contactType {:id \\\"609e88bbb8d2b5e2d7fc843b\\\", :name \\\"Owner\\\"}, :email nil, :additionalData {}, :phone \\\"410-268-8400\\\", :name \\\"Sandra Friedman\\\", :title \\\"Property Manager\\\", :id \\\"4978893\\\", :company \\\"Stursa Family LP c/o Innovative Properties Inc\\\"}]\",\"13\":\"Clayton Ruttcauslcas Maryland State Education Association Headquarters 410-263-6600\",\"14\":\"Periodic (Elevator)\",\"15\":\"2021-09-01\",\"_rn_\":\"1\"},{\"1\":\"Maryland State Education Association Headquarters\",\"2\":\"Private\",\"3\":\"Anne Arundel\",\"4\":\"140 Main St , Annapolis , MD , 21401-2003 , Anne Arundel\",\"5\":\"AA1001\",\"6\":\"Active\",\"7\":\"2022-09-01\",\"8\":\"Hydraulic Basement (HB)\",\"9\":\"2500\",\"10\":\"100\",\"11\":\"40 feet 0 inches\",\"12\":\"[{:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Annapolis\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21401-2003\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"140 Main St\\\", :country nil, :faxUnlisted nil}, :fax \\\"410-263-3605\\\", :contactType nil, :email nil, :additionalData nil, :phone \\\"410-263-6600\\\", :name \\\"Wayne Frees\\\", :title \\\"Facilities Supervisor\\\", :id \\\"4559607\\\", :company \\\"Maryland State Education Association\\\"} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Annapolis\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21401\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"140 MAIN STREET\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType nil, :email nil, :additionalData nil, :phone \\\"410-263-6600\\\", :name \\\"MARYLAND STATE TEACHER ASSOCIATION\\\", :title \\\"Wayne Frees\\\", :id \\\"4559608\\\", :company \\\"MARYLAND STATE TEACHER ASSOCIATION\\\"} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Annapolis\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21401-2003\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"140 Main St\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType nil, :email nil, :additionalData nil, :phone \\\"410-263-6600\\\", :name \\\"Clayton Ruttcauslcas\\\", :title \\\"Network Specialist\\\", :id \\\"5978925\\\", :company \\\"Maryland State Education Association Headquarters\\\"} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Annapolis\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21401-2003\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"140 Main St\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType nil, :email nil, :additionalData nil, :phone \\\"410-263-6600\\\", :name \\\"Clayton Ruttcauslcas\\\", :title \\\"Network Specialist\\\", :id \\\"5978925\\\", :company \\\"Maryland State Education Association Headquarters\\\"} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Annapolis\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21401-2003\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"140 Main St.\\\", :country nil, :faxUnlisted nil}, :fax \\\"410-263-3605\\\", :contactType nil, :email \\\"nmilline@mseanea.org\\\", :additionalData nil, :phone \\\"410-263-6600\\\", :name \\\"Neven Milline\\\", :title \\\"Facility Supervisor\\\", :id \\\"60e603af20241f0036fde6a9\\\", :company \\\"Maryland State Education Association Headquarters\\\"}]\",\"13\":\"Michael Blouder More Goodies Mall 410-269-0071\",\"14\":\"Periodic Reinspection (Elevator)\",\"15\":\"2022-03-18\",\"_rn_\":\"2\"},{\"1\":\"More Goodies Mall\",\"2\":\"Private\",\"3\":\"Anne Arundel\",\"4\":\"112 Main St , Annapolis , MD , 21401-2026 , Anne Arundel\",\"5\":\"AA1002\",\"6\":\"Active\",\"7\":\"2022-10-11\",\"8\":\"Hydraulic Basement (HB)\",\"9\":\"2500\",\"10\":\"125\",\"11\":\"40 feet 4 inches\",\"12\":\"[{:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Annapolis\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21401\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"112 Maine St\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType {:id \\\"609e88bbb8d2b5e2d7fc843b\\\", :name \\\"Owner\\\"}, :email nil, :phone \\\"410-269-0071\\\", :name \\\"Michael Blouder\\\", :title \\\"Vice President\\\", :id \\\"4560348\\\", :company \\\"More Goodies Mall\\\"}]\",\"13\":\"Carol Kelly Chase Home Inc 410-263-2723 ck.05103@yahoo.com\",\"14\":\"Periodic (Elevator)\",\"15\":\"2022-06-01\",\"_rn_\":\"3\"},{\"1\":\"Chase/Lloyd House\",\"2\":\"Private\",\"3\":\"Anne Arundel\",\"4\":\"22 Maryland Ave , Annapolis , MD , 21401-1628 , Anne Arundel\",\"5\":\"AA1003\",\"6\":\"Active\",\"7\":\"2023-06-01\",\"8\":\"Hydraulic Basement (HB)\",\"9\":\"750\",\"10\":\"30\",\"11\":\"34 feet 0 inches\",\"12\":\"[{:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Annapolis\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21401-1628\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"22 Maryland Ave\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType {:id \\\"609e88bbb8d2b5e2d7fc843b\\\", :name \\\"Owner\\\"}, :email \\\"ck.05103@yahoo.com\\\", :additionalData {}, :phone \\\"410-263-2723  (cell)410-268-1733\\\", :name \\\"Carol Kelly\\\", :title \\\"Manager\\\", :id \\\"4552424\\\", :company \\\"Chase Home Inc\\\"}]\",\"13\":\"Harry Brocato Raven Power, LLC 410-787-5088 harry.brocato@talenenergy.com\",\"14\":\"Periodic (Elevator)\",\"15\":\"2021-09-28\",\"_rn_\":\"4\"},{\"1\":\"Brandon Shores Power Plant\",\"2\":\"Private\",\"3\":\"Anne Arundel\",\"4\":\"2030 Brandon Shores Rd , Baltimore , MD , 21226-1748 , Anne Arundel\",\"5\":\"AA1004\",\"6\":\"Active\",\"7\":\"2022-09-28\",\"8\":\"Rack & Pinion (R&P)\",\"9\":\"900\",\"10\":\"150\",\"11\":\"750 feet 0 inches\",\"12\":\"[{:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"2030 Brandon Shores Rd\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType nil, :email nil, :additionalData nil, :phone \\\"410-787-6928\\\", :name \\\"Brandon Shores Engineering Projects\\\", :title nil, :id \\\"4551419\\\", :company \\\"Brandon Shores Engineering Projects\\\"} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"BALTIMORE\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21202\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"750 E Pratt St\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType nil, :email nil, :additionalData nil, :phone \\\"410-783-2800\\\", :name \\\"EDWARD J. WEDELMEYER\\\", :title \\\"E & C SUPERVISOR\\\", :id \\\"4553188\\\", :company \\\"CONSTELLATION POWER SOURCE GENERATION, INC.\\\"} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"2030 Brandon Shores Rd\\\", :country nil, :faxUnlisted nil}, :fax \\\"443-213-3439\\\", :contactType nil, :email nil, :additionalData nil, :phone \\\"410-787-5088\\\", :name \\\"Carnell Williams\\\", :title \\\"Principal Engineer\\\", :id \\\"4711479\\\", :company \\\"Constellation Power Source Generation Inc\\\"} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226-1748\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"2030 Brandon Shores Rd\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType nil, :email nil, :additionalData nil, :phone \\\"410-787-5251\\\", :name \\\"Mark Kostewik\\\", :title \\\"Project Manager\\\", :id \\\"5603406\\\", :company \\\"Raven Power/Brandon Shores LLC\\\"} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Pasadena\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21122-2256\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"8115 Evening Star Dr\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType nil, :email nil, :additionalData nil, :phone \\\"888-305-3022\\\", :name \\\"Creekstone Village\\\", :title nil, :id \\\"5605177\\\", :company \\\"Creekstone Village\\\"} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226-1748\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"2030 Brandon Shores Rd\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType {:id \\\"609e88bbb8d2b5e2d7fc843b\\\", :name \\\"Owner\\\"}, :email \\\"harry.brocato@talenenergy.com\\\", :additionalData {}, :phone \\\"410-787-5088\\\", :name \\\"Harry Brocato\\\", :title \\\"Engineer Manager\\\", :id \\\"5615653\\\", :company \\\"Raven Power, LLC\\\"} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"2030 Brandon Shores Rd\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType nil, :email nil, :additionalData nil, :phone \\\"410-787-5088 (cell)410-971-7346\\\", :name \\\"Harry Brocato\\\", :title \\\"Engineer Manager\\\", :id \\\"5930500\\\", :company nil} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"2030 Brandon Shores Rd\\\", :country nil, :faxUnlisted nil}, :fax \\\"443-213-3439\\\", :contactType {:id \\\"609e889fb8d2b5e2d7fc8439\\\", :name \\\"Billing\\\"}, :email nil, :additionalData nil, :phone \\\"410-787-5088\\\", :name \\\"Carnell Williams\\\", :title \\\"Principal Engineer\\\", :id \\\"4711479\\\", :company \\\"Constellation Power Source Generation Inc\\\"}]\",\"13\":\"James Hoover Anne Arundel County Governement 410-222-8100\",\"14\":\"Periodic (Elevator)\",\"15\":\"2022-05-12\",\"_rn_\":\"5\"},{\"1\":\"Arundel Center South\",\"2\":\"Public\",\"3\":\"Anne Arundel\",\"4\":\"44 Calvert South , Annapolis , MD , 21401-1930 , Anne Arundel\",\"5\":\"AA1005\",\"6\":\"Active\",\"7\":\"2021-12-03\",\"8\":\"Traction Basement (TB)\",\"9\":\"2000\",\"10\":\"200\",\"11\":\"48 feet 0 inches\",\"12\":\"[{:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Millersville\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21108-2599\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"8313 Grover Rd\\\", :country nil, :faxUnlisted nil}, :fax \\\"410-222-8108\\\", :contactType {:id \\\"609e88bbb8d2b5e2d7fc843b\\\", :name \\\"Owner\\\"}, :email nil, :phone \\\"410-222-8100\\\", :name \\\"James Hoover\\\", :title \\\"Facilities Administrator\\\", :id \\\"4549995\\\", :company \\\"Anne Arundel County Governement\\\"} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Millersville\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21108-2599\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"8313 Grover Rd\\\", :country nil, :faxUnlisted nil}, :fax \\\"410-222-8108\\\", :contactType nil, :email nil, :phone \\\"410-222-8100\\\", :name \\\"Lisa Edwards\\\", :title \\\"County Facilities\\\", :id \\\"5012916\\\", :company \\\"Anne Arundel County Government\\\"}]\",\"13\":\"James Hoover Anne Arundel County Governement 410-222-8100\",\"14\":\"Periodic (Elevator)\",\"15\":\"2022-05-12\",\"_rn_\":\"6\"},{\"1\":\"Arundel Center South\",\"2\":\"Public\",\"3\":\"Anne Arundel\",\"4\":\"44 Calvert South , Annapolis , MD , 21401-1930 , Anne Arundel\",\"5\":\"AA1006\",\"6\":\"Active\",\"7\":\"2021-12-03\",\"8\":\"Traction Basement (TB)\",\"9\":\"2000\",\"10\":\"200\",\"11\":\"48 feet 0 inches\",\"12\":\"[{:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Millersville\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21108-2599\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"8313 Grover Rd\\\", :country nil, :faxUnlisted nil}, :fax \\\"410-222-8108\\\", :contactType {:id \\\"609e88bbb8d2b5e2d7fc843b\\\", :name \\\"Owner\\\"}, :email nil, :phone \\\"410-222-8100\\\", :name \\\"James Hoover\\\", :title \\\"Facilities Administrator\\\", :id \\\"4549995\\\", :company \\\"Anne Arundel County Governement\\\"} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Millersville\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21108-2599\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"8313 Grover Rd\\\", :country nil, :faxUnlisted nil}, :fax \\\"410-222-8108\\\", :contactType nil, :email nil, :phone \\\"410-222-8100\\\", :name \\\"Lisa Edwards\\\", :title \\\"County Facilities\\\", :id \\\"5012916\\\", :company \\\"Anne Arundel County Government\\\"}]\",\"13\":\"Kelli Rivera UMMS c/o JLL 410-910-7370\",\"14\":\"Periodic (Elevator)\",\"15\":\"2022-03-03\",\"_rn_\":\"7\"},{\"1\":\"University of MD Medical System Corp (Shipley's Choice)\",\"2\":\"Private\",\"3\":\"Anne Arundel\",\"4\":\"8601 Veterans Hwy , Millersville , MD , 21108-1547 , Anne Arundel\",\"5\":\"AA1007\",\"6\":\"Active\",\"7\":\"2023-03-03\",\"8\":\"Hydraulic Basement (HB)\",\"9\":\"4500\",\"10\":\"125\",\"11\":\"12 feet 10 inches\",\"12\":\"[{:id \\\"4549995\\\", :name \\\"James Hoover\\\", :company \\\"Anne Arundel County Governement\\\", :title \\\"Facilities Administrator\\\", :address {:line1 \\\"8313 Grover Rd\\\", :city \\\"Millersville\\\", :state \\\"MD\\\", :zipcode \\\"21108-2599\\\"}, :phone \\\"410-222-8100\\\", :fax \\\"410-222-8108\\\"} {:id \\\"4565992\\\", :name \\\"University of Maryland Medical Center\\\", :company \\\"University of Maryland Medical Center\\\", :address {:line1 \\\"Attn: Mary Anne Siwinski\\\", :line2 \\\"22 S Greene St\\\", :city \\\"Baltimore\\\", :state \\\"MD\\\", :zipcode \\\"21201-1544\\\"}, :phone \\\"410-328-8122\\\", :fax \\\"410-328-1920\\\", :email \\\"maryannesiwinski@umm.edu\\\"} {:id \\\"4566004\\\", :name \\\"Richie Stever\\\", :company \\\"University of Maryland Medical Center\\\", :title \\\"Director\\\", :address {:line1 \\\"22 S Greene St\\\", :city \\\"Baltimore\\\", :state \\\"MD\\\", :zipcode \\\"21201-1544\\\"}, :phone \\\"410-328-3787\\\", :fax \\\"410-328-7283\\\", :email \\\"rstever@umm.edu\\\"} {:id \\\"5012916\\\", :name \\\"Lisa Edwards\\\", :company \\\"Anne Arundel County Government\\\", :title \\\"County Facilities\\\", :address {:line1 \\\"8313 Grover Rd\\\", :city \\\"Millersville\\\", :state \\\"MD\\\", :zipcode \\\"21108-2599\\\"}, :phone \\\"410-222-8100\\\", :fax \\\"410-222-8108\\\"} {:id \\\"5106153\\\", :name \\\"Laurie Marino\\\", :company \\\"Shipley's Choice Medical Park Inc\\\", :title \\\"Senior Vice President/PM\\\", :address {:line1 \\\"c/o CIB Management LLC DBA Colliers Int'l\\\", :line2 \\\"8601 Robert Fulton Dr Suite 200\\\", :city \\\"Columbia\\\", :state \\\"MD\\\", :zipcode \\\"21046-2573\\\"}, :phone \\\"410-297-7000\\\", :fax \\\"443-543-0191\\\", :email \\\"Laurie.Marino@Colliers.com\\\"} {:id \\\"5818539\\\", :contactType nil, :name \\\"Kelli Rivera\\\", :company \\\"UMMS c/o JLL\\\", :title \\\"Senior General Manager\\\", :address {:line1 \\\"8601 Robert Fulton Dr Suite 220\\\", :city \\\"Columbia\\\", :state \\\"MD\\\", :zipcode \\\"21046-2573\\\"}, :phone \\\"410-910-7370  (cell)410-253-6919\\\"} {:address {:line1 \\\"c/o CIB Management LLC DBA Colliers Int'l\\\", :line2 \\\"8601 Robert Fulton Dr Suite 200\\\", :city \\\"Columbia\\\", :state \\\"MD\\\", :zipcode \\\"21046-2573\\\"}, :fax \\\"443-543-0191\\\", :contactType {:id \\\"609e889fb8d2b5e2d7fc8439\\\", :name \\\"Billing\\\"}, :email \\\"Laurie.Marino@Colliers.com\\\", :phone \\\"410-297-7000\\\", :name \\\"Laurie Marino\\\", :title \\\"Senior Vice President/PM\\\", :id \\\"5106153\\\", :company \\\"Shipley's Choice Medical Park Inc\\\"}]\",\"13\":\"H.A. Wagner 410-787-6939\",\"14\":\"Periodic (Elevator)\",\"15\":\"2021-08-20\",\"_rn_\":\"8\"},{\"1\":\"H.A. Wagner Power Plant\",\"2\":\"Private\",\"3\":\"Anne Arundel\",\"4\":\"3000 Brandon Shores Rd , Baltimore , MD , 21226-1757 , Anne Arundel\",\"5\":\"AA1018\",\"6\":\"Active\",\"7\":\"2022-08-20\",\"8\":\"Traction Overhead (TO)\",\"9\":\"3500\",\"10\":\"250\",\"11\":\"122 feet 6 inches\",\"12\":\"[{:id \\\"4553188\\\", :name \\\"EDWARD J. WEDELMEYER\\\", :company \\\"CONSTELLATION POWER SOURCE GENERATION, INC.\\\", :title \\\"E & C SUPERVISOR\\\", :address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"BALTIMORE\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21202\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"750 E Pratt St\\\", :country nil, :faxUnlisted nil}, :phone \\\"410-783-2800\\\", :fax nil, :email nil} {:id \\\"5007139\\\", :name \\\"Steve Waller\\\", :company \\\"H A WAGNER POWER PLANT\\\", :title \\\"DIRECTOR OF SAFETY\\\", :address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"1005 Brandon Shores Rd 2nd Floor\\\", :country nil, :faxUnlisted nil}, :phone \\\"410-787-5324\\\", :fax nil, :email nil} {:id \\\"5267168\\\", :name \\\"Joyhn Lang\\\", :company \\\"H.A. Wagner Power Plant\\\", :title \\\"E&C Supervisor\\\", :address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226-1757\\\", :phoneUnlisted nil, :line2 \\\"3000 Brandon Shores Rd\\\", :privacyWaiver nil, :cell nil, :line1 \\\"c/o Raven Power LLC\\\", :country nil, :faxUnlisted nil}, :phone \\\"410-787-5515\\\", :fax nil, :email \\\"jlang@raven-power.com\\\"} {:id \\\"5268133\\\", :name \\\"Raven Power LLC\\\", :company \\\"Raven Power LLC\\\", :title nil, :address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226-1757\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"3000 Brandon Shores Rd\\\", :country nil, :faxUnlisted nil}, :phone \\\"410-787-5515\\\", :fax nil, :email nil} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226-1757\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"3000 Brandon Shores Rd\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType {:id \\\"609e88bbb8d2b5e2d7fc843b\\\", :name \\\"Owner\\\"}, :email nil, :phone \\\"410-787-6939\\\", :name \\\"H.A. Wagner\\\", :title nil, :id \\\"5789502\\\", :company \\\"H.A. Wagner\\\"} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"1005 Brandon Shores Rd 2nd Floor\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType {:id \\\"609e889fb8d2b5e2d7fc8439\\\", :name \\\"Billing\\\"}, :email nil, :phone \\\"410-787-5324\\\", :name \\\"Steve Waller\\\", :title \\\"DIRECTOR OF SAFETY\\\", :id \\\"5007139\\\", :company \\\"H A WAGNER POWER PLANT\\\"} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226-1757\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"3000 Brandon Shores Rd\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType {:id \\\"609e889fb8d2b5e2d7fc8439\\\", :name \\\"Billing\\\"}, :email nil, :phone \\\"410-787-5515\\\", :name \\\"Raven Power LLC\\\", :title nil, :id \\\"5268133\\\", :company \\\"Raven Power LLC\\\"} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226-1757\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"3000 Brandon Shores Rd\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType {:id \\\"609e889fb8d2b5e2d7fc8439\\\", :name \\\"Billing\\\"}, :email nil, :phone \\\"410-787-6939\\\", :name \\\"H.A. Wagner\\\", :title nil, :id \\\"5789502\\\", :company \\\"H.A. Wagner\\\"}]\",\"13\":\"H.A. Wagner 410-787-6939\",\"14\":\"Periodic (Elevator)\",\"15\":\"2021-08-20\",\"_rn_\":\"9\"},{\"1\":\"H.A. Wagner Power Plant\",\"2\":\"Private\",\"3\":\"Anne Arundel\",\"4\":\"3000 Brandon Shores Rd , Baltimore , MD , 21226-1757 , Anne Arundel\",\"5\":\"AA1019\",\"6\":\"Active\",\"7\":\"2022-08-20\",\"8\":\"Traction Overhead (TO)\",\"9\":\"3500\",\"10\":\"300\",\"11\":\"142 feet 6 inches\",\"12\":\"[{:id \\\"4553188\\\", :name \\\"EDWARD J. WEDELMEYER\\\", :company \\\"CONSTELLATION POWER SOURCE GENERATION, INC.\\\", :title \\\"E & C SUPERVISOR\\\", :address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"BALTIMORE\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21202\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"750 E Pratt St\\\", :country nil, :faxUnlisted nil}, :phone \\\"410-783-2800\\\", :fax nil, :email nil} {:id \\\"5007139\\\", :name \\\"Steve Waller\\\", :company \\\"H A WAGNER POWER PLANT\\\", :title \\\"DIRECTOR OF SAFETY\\\", :address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"1005 Brandon Shores Rd 2nd Floor\\\", :country nil, :faxUnlisted nil}, :phone \\\"410-787-5324\\\", :fax nil, :email nil} {:id \\\"5267168\\\", :name \\\"Joyhn Lang\\\", :company \\\"H.A. Wagner Power Plant\\\", :title \\\"E&C Supervisor\\\", :address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226-1757\\\", :phoneUnlisted nil, :line2 \\\"3000 Brandon Shores Rd\\\", :privacyWaiver nil, :cell nil, :line1 \\\"c/o Raven Power LLC\\\", :country nil, :faxUnlisted nil}, :phone \\\"410-787-5515\\\", :fax nil, :email \\\"jlang@raven-power.com\\\"} {:id \\\"5268133\\\", :name \\\"Raven Power LLC\\\", :company \\\"Raven Power LLC\\\", :title nil, :address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226-1757\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"3000 Brandon Shores Rd\\\", :country nil, :faxUnlisted nil}, :phone \\\"410-787-5515\\\", :fax nil, :email nil} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226-1757\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"3000 Brandon Shores Rd\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType {:id \\\"609e88bbb8d2b5e2d7fc843b\\\", :name \\\"Owner\\\"}, :email nil, :phone \\\"410-787-6939\\\", :name \\\"H.A. Wagner\\\", :title nil, :id \\\"5789502\\\", :company \\\"H.A. Wagner\\\"} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"1005 Brandon Shores Rd 2nd Floor\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType {:id \\\"609e889fb8d2b5e2d7fc8439\\\", :name \\\"Billing\\\"}, :email nil, :phone \\\"410-787-5324\\\", :name \\\"Steve Waller\\\", :title \\\"DIRECTOR OF SAFETY\\\", :id \\\"5007139\\\", :company \\\"H A WAGNER POWER PLANT\\\"} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226-1757\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"3000 Brandon Shores Rd\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType {:id \\\"609e889fb8d2b5e2d7fc8439\\\", :name \\\"Billing\\\"}, :email nil, :phone \\\"410-787-5515\\\", :name \\\"Raven Power LLC\\\", :title nil, :id \\\"5268133\\\", :company \\\"Raven Power LLC\\\"} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226-1757\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"3000 Brandon Shores Rd\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType {:id \\\"609e889fb8d2b5e2d7fc8439\\\", :name \\\"Billing\\\"}, :email nil, :phone \\\"410-787-6939\\\", :name \\\"H.A. Wagner\\\", :title nil, :id \\\"5789502\\\", :company \\\"H.A. Wagner\\\"}]\",\"13\":\"H.A. Wagner 410-787-6939\",\"14\":\"Periodic (Elevator)\",\"15\":\"2022-06-30\",\"_rn_\":\"10\"},{\"1\":\"H.A. Wagner Power Plant\",\"2\":\"Private\",\"3\":\"Anne Arundel\",\"4\":\"3000 Brandon Shores Rd , Baltimore , MD , 21226-1757 , Anne Arundel\",\"5\":\"AA1022\",\"6\":\"Active\",\"7\":\"2022-08-20\",\"8\":\"Rack & Pinion (R&P)\",\"9\":\"900\",\"10\":\"150\",\"11\":\"137 feet 7 inches\",\"12\":\"[{:id \\\"4553188\\\", :name \\\"EDWARD J. WEDELMEYER\\\", :company \\\"CONSTELLATION POWER SOURCE GENERATION, INC.\\\", :title \\\"E & C SUPERVISOR\\\", :address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"BALTIMORE\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21202\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"750 E Pratt St\\\", :country nil, :faxUnlisted nil}, :phone \\\"410-783-2800\\\", :fax nil, :email nil} {:id \\\"5007139\\\", :name \\\"Steve Waller\\\", :company \\\"H A WAGNER POWER PLANT\\\", :title \\\"DIRECTOR OF SAFETY\\\", :address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"1005 Brandon Shores Rd 2nd Floor\\\", :country nil, :faxUnlisted nil}, :phone \\\"410-787-5324\\\", :fax nil, :email nil} {:id \\\"5267168\\\", :name \\\"Joyhn Lang\\\", :company \\\"H.A. Wagner Power Plant\\\", :title \\\"E&C Supervisor\\\", :address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226-1757\\\", :phoneUnlisted nil, :line2 \\\"3000 Brandon Shores Rd\\\", :privacyWaiver nil, :cell nil, :line1 \\\"c/o Raven Power LLC\\\", :country nil, :faxUnlisted nil}, :phone \\\"410-787-5515\\\", :fax nil, :email \\\"jlang@raven-power.com\\\"} {:id \\\"5268133\\\", :name \\\"Raven Power LLC\\\", :company \\\"Raven Power LLC\\\", :title nil, :address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226-1757\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"3000 Brandon Shores Rd\\\", :country nil, :faxUnlisted nil}, :phone \\\"410-787-5515\\\", :fax nil, :email nil} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226-1757\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"3000 Brandon Shores Rd\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType {:id \\\"609e88bbb8d2b5e2d7fc843b\\\", :name \\\"Owner\\\"}, :email nil, :phone \\\"410-787-6939\\\", :name \\\"H.A. Wagner\\\", :title nil, :id \\\"5789502\\\", :company \\\"H.A. Wagner\\\"} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"1005 Brandon Shores Rd 2nd Floor\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType {:id \\\"609e889fb8d2b5e2d7fc8439\\\", :name \\\"Billing\\\"}, :email nil, :phone \\\"410-787-5324\\\", :name \\\"Steve Waller\\\", :title \\\"DIRECTOR OF SAFETY\\\", :id \\\"5007139\\\", :company \\\"H A WAGNER POWER PLANT\\\"} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226-1757\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"3000 Brandon Shores Rd\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType {:id \\\"609e889fb8d2b5e2d7fc8439\\\", :name \\\"Billing\\\"}, :email nil, :phone \\\"410-787-5515\\\", :name \\\"Raven Power LLC\\\", :title nil, :id \\\"5268133\\\", :company \\\"Raven Power LLC\\\"} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226-1757\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"3000 Brandon Shores Rd\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType {:id \\\"609e889fb8d2b5e2d7fc8439\\\", :name \\\"Billing\\\"}, :email nil, :phone \\\"410-787-6939\\\", :name \\\"H.A. Wagner\\\", :title nil, :id \\\"5789502\\\", :company \\\"H.A. Wagner\\\"}]\",\"13\":\"H.A. Wagner 410-787-6939\",\"14\":\"Periodic (Elevator)\",\"15\":\"2022-06-29\",\"_rn_\":\"11\"},{\"1\":\"H.A. Wagner Power Plant\",\"2\":\"Private\",\"3\":\"Anne Arundel\",\"4\":\"3000 Brandon Shores Rd , Baltimore , MD , 21226-1757 , Anne Arundel\",\"5\":\"AA1023\",\"6\":\"Active\",\"7\":\"2022-08-20\",\"8\":\"Rack & Pinion (R&P)\",\"9\":\"900\",\"10\":\"150\",\"11\":\"137 feet 7 inches\",\"12\":\"[{:id \\\"4553188\\\", :name \\\"EDWARD J. WEDELMEYER\\\", :company \\\"CONSTELLATION POWER SOURCE GENERATION, INC.\\\", :title \\\"E & C SUPERVISOR\\\", :address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"BALTIMORE\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21202\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"750 E Pratt St\\\", :country nil, :faxUnlisted nil}, :phone \\\"410-783-2800\\\", :fax nil, :email nil} {:id \\\"5007139\\\", :name \\\"Steve Waller\\\", :company \\\"H A WAGNER POWER PLANT\\\", :title \\\"DIRECTOR OF SAFETY\\\", :address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"1005 Brandon Shores Rd 2nd Floor\\\", :country nil, :faxUnlisted nil}, :phone \\\"410-787-5324\\\", :fax nil, :email nil} {:id \\\"5267168\\\", :name \\\"Joyhn Lang\\\", :company \\\"H.A. Wagner Power Plant\\\", :title \\\"E&C Supervisor\\\", :address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226-1757\\\", :phoneUnlisted nil, :line2 \\\"3000 Brandon Shores Rd\\\", :privacyWaiver nil, :cell nil, :line1 \\\"c/o Raven Power LLC\\\", :country nil, :faxUnlisted nil}, :phone \\\"410-787-5515\\\", :fax nil, :email \\\"jlang@raven-power.com\\\"} {:id \\\"5268133\\\", :name \\\"Raven Power LLC\\\", :company \\\"Raven Power LLC\\\", :title nil, :address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226-1757\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"3000 Brandon Shores Rd\\\", :country nil, :faxUnlisted nil}, :phone \\\"410-787-5515\\\", :fax nil, :email nil} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226-1757\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"3000 Brandon Shores Rd\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType {:id \\\"609e88bbb8d2b5e2d7fc843b\\\", :name \\\"Owner\\\"}, :email nil, :phone \\\"410-787-6939\\\", :name \\\"H.A. Wagner\\\", :title nil, :id \\\"5789502\\\", :company \\\"H.A. Wagner\\\"} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"1005 Brandon Shores Rd 2nd Floor\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType {:id \\\"609e889fb8d2b5e2d7fc8439\\\", :name \\\"Billing\\\"}, :email nil, :phone \\\"410-787-5324\\\", :name \\\"Steve Waller\\\", :title \\\"DIRECTOR OF SAFETY\\\", :id \\\"5007139\\\", :company \\\"H A WAGNER POWER PLANT\\\"} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226-1757\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"3000 Brandon Shores Rd\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType {:id \\\"609e889fb8d2b5e2d7fc8439\\\", :name \\\"Billing\\\"}, :email nil, :phone \\\"410-787-5515\\\", :name \\\"Raven Power LLC\\\", :title nil, :id \\\"5268133\\\", :company \\\"Raven Power LLC\\\"} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21226-1757\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"3000 Brandon Shores Rd\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType {:id \\\"609e889fb8d2b5e2d7fc8439\\\", :name \\\"Billing\\\"}, :email nil, :phone \\\"410-787-6939\\\", :name \\\"H.A. Wagner\\\", :title nil, :id \\\"5789502\\\", :company \\\"H.A. Wagner\\\"}]\",\"13\":\"Crystal Webb Anne Arundel County Public Schools Facilities 410-255-2535 clwebb@aacps.org\",\"14\":\"Periodic (Elevator)\",\"15\":\"2021-11-19\",\"_rn_\":\"12\"},{\"1\":\"Broadneck Senior High School (AACPS)\",\"2\":\"Public\",\"3\":\"Anne Arundel\",\"4\":\"1265 Green Holly Dr , Annapolis , MD , 21409-4676 , Anne Arundel\",\"5\":\"AA1024\",\"6\":\"Active\",\"7\":\"2022-11-19\",\"8\":\"Hydraulic Basement (HB)\",\"9\":\"3500\",\"10\":\"150\",\"11\":\"13 feet 4 inches\",\"12\":\"[{:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Pasadena\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21122-3223\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"9034 Fort Smallwood Rd\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType {:id \\\"609e88adb8d2b5e2d7fc843a\\\", :name \\\"Mailing\\\"}, :email \\\"clwebb@aacps.org\\\", :phone \\\"410-255-2535  (cell)443-770-5915\\\", :name \\\"Crystal Webb\\\", :title \\\"Specialist-Maintenance Planning\\\", :id \\\"4549444\\\", :company \\\"Anne Arundel County Public Schools Facilities\\\"} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Pasadena\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21122-3223\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"9034 Fort Smallwood Rd\\\", :country nil, :faxUnlisted nil}, :fax \\\"410-437-6947\\\", :contactType nil, :email \\\"clwebb@aacps.org\\\", :phone \\\"410-255-2535  (cell)443-770-5915\\\", :name \\\"Crystal Webb\\\", :title \\\"Specialist-Maintenance Planning\\\", :id \\\"4550003\\\", :company \\\"Anne Arundel County Public Schools\\\"}]\",\"13\":\"Edie Resuta Brooklyn Community United Methodist Church 410-789-3688\",\"14\":\"Periodic (Elevator)\",\"15\":\"2020-12-08\",\"_rn_\":\"13\"},{\"1\":\"Brooklyn Community United Methodist Church\",\"2\":\"Private\",\"3\":\"Anne Arundel\",\"4\":\"110 Townsend Ave , Baltimore , MD , 21225-3052 , Anne Arundel\",\"5\":\"AA1025\",\"6\":\"Active\",\"7\":\"2021-12-08\",\"8\":\"Drum Basement (DB)\",\"9\":\"500\",\"10\":\"28\",\"11\":\"12 feet 4 inches\",\"12\":\"[{:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Baltimore\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21225\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"110 Townsend Ave\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType {:id \\\"609e88bbb8d2b5e2d7fc843b\\\", :name \\\"Owner\\\"}, :email nil, :additionalData {}, :phone \\\"410-789-3688  (cell)410-303-3923\\\", :name \\\"Edie Resuta\\\", :title \\\"Trustee Chair\\\", :id \\\"4551571\\\", :company \\\"Brooklyn Community United Methodist Church\\\"}]\",\"13\":\"JEFFREY MULLER, ESA. PANOLAM INDUSTRIES INTERNATIONAL, INC 800-672-6652\",\"14\":\"Periodic (Elevator)\",\"15\":\"2008-04-24\",\"_rn_\":\"14\"},{\"1\":\"NEVAMAR COMPANY, LLC\",\"2\":\"Private\",\"3\":\"Anne Arundel\",\"4\":\"8339 Telegraph Rd , Odenton , MD , 21113-1322 , Anne Arundel\",\"5\":\"AA1026\",\"6\":\"Active / Sealed\",\"7\":\"2010-04-24\",\"8\":\"Traction Overhead (TO)\",\"9\":\"8000\",\"10\":\"50\",\"11\":\"14 feet 0 inches\",\"12\":\"[{:id \\\"4560725\\\", :contactType nil, :company \\\"NEVAMAR COMPANY, LLC\\\", :address {:line1 \\\"20 PROGRESS DRIVE\\\", :city \\\"Shelton\\\", :state \\\"CT\\\", :zipcode \\\"06484\\\"}, :phone \\\"410-519-2165\\\", :name \\\"NEVAMAR COMPANY, LLC\\\"} {:id \\\"4561352\\\", :contactType {:id \\\"609e88bbb8d2b5e2d7fc843b\\\", :name \\\"Owner\\\"}, :company \\\"PANOLAM INDUSTRIES INTERNATIONAL, INC\\\", :address {:line1 \\\"20 Progress Dr\\\", :city \\\"Shelton\\\", :state \\\"CT\\\", :zipcode \\\"06484\\\"}, :phone \\\"800-672-6652\\\", :name \\\"PANOLAM INDUSTRIES INTERNATIONAL, INC\\\"}]\",\"13\":\"JEFFREY MULLER, ESA. PANOLAM INDUSTRIES INTERNATIONAL, INC 800-672-6652\",\"14\":\"Periodic (Elevator)\",\"15\":\"2008-04-24\",\"_rn_\":\"15\"},{\"1\":\"NEVAMAR COMPANY, LLC\",\"2\":\"Private\",\"3\":\"Anne Arundel\",\"4\":\"8339 Telegraph Rd , Odenton , MD , 21113-1322 , Anne Arundel\",\"5\":\"AA1027\",\"6\":\"Active / Sealed\",\"7\":\"2010-04-24\",\"8\":\"Traction Overhead (TO)\",\"9\":\"8000\",\"10\":\"50\",\"11\":\"47 feet 0 inches\",\"12\":\"[{:id \\\"4560725\\\", :contactType nil, :company \\\"NEVAMAR COMPANY, LLC\\\", :address {:line1 \\\"20 PROGRESS DRIVE\\\", :city \\\"Shelton\\\", :state \\\"CT\\\", :zipcode \\\"06484\\\"}, :phone \\\"410-519-2165\\\", :name \\\"NEVAMAR COMPANY, LLC\\\"} {:id \\\"4561352\\\", :contactType {:id \\\"609e88bbb8d2b5e2d7fc843b\\\", :name \\\"Owner\\\"}, :company \\\"PANOLAM INDUSTRIES INTERNATIONAL, INC\\\", :address {:line1 \\\"20 Progress Dr\\\", :city \\\"Shelton\\\", :state \\\"CT\\\", :zipcode \\\"06484\\\"}, :phone \\\"800-672-6652\\\", :name \\\"PANOLAM INDUSTRIES INTERNATIONAL, INC\\\"}]\",\"13\":\"Dennis Coll Archbishop Spalding High School Inc 410-969-9105 ext 249 colld@archbishopspalding.org\",\"14\":\"Periodic Reinspection (Elevator)\",\"15\":\"2021-08-23\",\"_rn_\":\"16\"},{\"1\":\"Archbishop Spalding High School\",\"2\":\"Private\",\"3\":\"Anne Arundel\",\"4\":\"8080 New Cut Rd , Severn , MD , 21144-2301 , Anne Arundel\",\"5\":\"AA1031\",\"6\":\"Active\",\"7\":\"2022-07-01\",\"8\":\"Drum Basement (DB)\",\"9\":\"350\",\"10\":\"30\",\"11\":\"7 feet 2 inches\",\"12\":\"[{:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Severn\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21144-2301\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"8080 New Cut Rd\\\", :country nil, :faxUnlisted nil}, :fax \\\"410-969-1026\\\", :contactType {:id \\\"609e88bbb8d2b5e2d7fc843b\\\", :name \\\"Owner\\\"}, :email \\\"colld@archbishopspalding.org\\\", :additionalData nil, :phone \\\"410-969-9105 ext 249\\\", :name \\\"Dennis Coll\\\", :title \\\"Facilities Director\\\", :id \\\"4550078\\\", :company \\\"Archbishop Spalding High School Inc\\\"}]\",\"13\":\"Cherie Sampson Shaw Street Development LLC 443-926-5110\",\"14\":\"Alt/Mod (Elevator)\",\"15\":\"2022-05-23\",\"_rn_\":\"17\"},{\"1\":\"Shaw Street Development LLC\",\"2\":\"Private\",\"3\":\"Anne Arundel\",\"4\":\"25 Shaw St , Annapolis , MD , 21401-2717 , Anne Arundel\",\"5\":\"AA1032\",\"6\":\"Active\",\"7\":\"2022-01-13\",\"8\":\"Hydraulic Overhead (HO)\",\"9\":\"2500\",\"10\":\"125\",\"11\":\"20 feet 3 inches\",\"12\":\"[{:id \\\"4563552\\\", :contactType {:id \\\"609e88adb8d2b5e2d7fc843a\\\", :name \\\"Mailing\\\"}, :name \\\"Deanna Kauffman\\\", :company \\\"Shaw Street Development LLC\\\", :title \\\"Executive Administrator\\\", :address {:line1 \\\"1750 Forest Dr Suite 205\\\", :city \\\"Annapolis\\\", :state \\\"MD\\\", :zipcode \\\"21401-4211\\\"}, :phone \\\"301-261-1202\\\", :email \\\"dkauffman@diplomatfreight.com\\\"} {:address {:line1 \\\"25 Shaw St 2nd Floor\\\", :city \\\"Annapolis\\\", :state \\\"MD\\\", :zipcode \\\"21401-2717\\\"}, :fax \\\"410-263-2572\\\", :contactType {:id \\\"609e88bbb8d2b5e2d7fc843b\\\", :name \\\"Owner\\\"}, :additionalData {}, :phone \\\"443-926-5110  (cell)443-926-5134\\\", :name \\\"Cherie Sampson\\\", :title \\\"Facility Manager\\\", :id \\\"4563553\\\", :company \\\"Shaw Street Development LLC\\\"}]\",\"13\":\"Gina Gibson Housing Commission of Anne Arundel County 410-222-6200 ext 2120 gmgibson@hcaac.org\",\"14\":\"Alt/Mod (Elevator)\",\"15\":\"2021-05-18\",\"_rn_\":\"18\"},{\"1\":\"Pinewood Village 2\",\"2\":\"Public\",\"3\":\"Anne Arundel\",\"4\":\"7900 Benesch Cir , Glen Burnie , MD , 21060-7928 , Anne Arundel\",\"5\":\"AA1033\",\"6\":\"Active\",\"7\":\"2019-09-17\",\"8\":\"Hydraulic Basement (HB)\",\"9\":\"2500\",\"10\":\"125\",\"11\":\"31 feet 4 inches\",\"12\":\"[{:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Glen Burnie\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21061-9401\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"102 Crain Hwy N\\\", :country nil, :faxUnlisted nil}, :fax \\\"410-222-6214\\\", :contactType {:id \\\"609e88bbb8d2b5e2d7fc843b\\\", :name \\\"Owner\\\"}, :email \\\"gmgibson@hcaac.org\\\", :phone \\\"410-222-6200 ext 2120\\\", :name \\\"Gina Gibson\\\", :title \\\"Director of Property Mgmt.\\\", :id \\\"4557165\\\", :company \\\"Housing Commission of Anne Arundel County\\\"} {:id \\\"4557166\\\", :name \\\"Gina Gibson\\\", :company \\\"Housing Commission of Anne Arundel County\\\", :title \\\"Director of Property Management\\\", :address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Glen Burnie\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21061-3504\\\", :phoneUnlisted nil, :line2 \\\"P O Box 817\\\", :privacyWaiver nil, :cell nil, :line1 \\\"7477 Baltimore Annapolis Blvd, 3rd Floor\\\", :country nil, :faxUnlisted nil}, :phone \\\"410-222-6200 x2120\\\", :fax \\\"410-222-6214, 410-768-3889\\\", :email \\\"gmgibson@hcaac.org\\\"} {:id \\\"5964025\\\", :name \\\"Gina Gibson\\\", :company \\\"Pinewood Village 2\\\", :title \\\"Director of Property Management\\\", :address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Glen Burnie\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21060-7928\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"7900 Benesch Cir\\\", :country nil, :faxUnlisted nil}, :phone \\\"410-222-6210\\\", :fax nil, :email nil} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Glen Burnie\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21060-7928\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"7900 Benesch Cir\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType {:id \\\"609e889fb8d2b5e2d7fc8439\\\", :name \\\"Billing\\\"}, :email nil, :phone \\\"410-222-6210\\\", :name \\\"Gina Gibson\\\", :title \\\"Director of Property Management\\\", :id \\\"5964025\\\", :company \\\"Pinewood Village 2\\\"}]\",\"13\":\"Gina Gibson Housing Commission of Anne Arundel County 410-222-6200 ext 2120 gmgibson@hcaac.org\",\"14\":\"Alt/Mod (Elevator)\",\"15\":\"2021-05-10\",\"_rn_\":\"19\"},{\"1\":\"Pinewood Village 2\",\"2\":\"Public\",\"3\":\"Anne Arundel\",\"4\":\"7900 Benesch Cir , Glen Burnie , MD , 21060-7928 , Anne Arundel\",\"5\":\"AA1034\",\"6\":\"Active\",\"7\":\"2019-09-17\",\"8\":\"Hydraulic Basement (HB)\",\"9\":\"2500\",\"10\":\"125\",\"11\":\"31 feet 4 inches\",\"12\":\"[{:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Glen Burnie\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21061-9401\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"102 Crain Hwy N\\\", :country nil, :faxUnlisted nil}, :fax \\\"410-222-6214\\\", :contactType {:id \\\"609e88bbb8d2b5e2d7fc843b\\\", :name \\\"Owner\\\"}, :email \\\"gmgibson@hcaac.org\\\", :phone \\\"410-222-6200 ext 2120\\\", :name \\\"Gina Gibson\\\", :title \\\"Director of Property Mgmt.\\\", :id \\\"4557165\\\", :company \\\"Housing Commission of Anne Arundel County\\\"} {:id \\\"4557166\\\", :name \\\"Gina Gibson\\\", :company \\\"Housing Commission of Anne Arundel County\\\", :title \\\"Director of Property Management\\\", :address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Glen Burnie\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21061-3504\\\", :phoneUnlisted nil, :line2 \\\"P O Box 817\\\", :privacyWaiver nil, :cell nil, :line1 \\\"7477 Baltimore Annapolis Blvd, 3rd Floor\\\", :country nil, :faxUnlisted nil}, :phone \\\"410-222-6200 x2120\\\", :fax \\\"410-222-6214, 410-768-3889\\\", :email \\\"gmgibson@hcaac.org\\\"} {:id \\\"5964025\\\", :name \\\"Gina Gibson\\\", :company \\\"Pinewood Village 2\\\", :title \\\"Director of Property Management\\\", :address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Glen Burnie\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21060-7928\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"7900 Benesch Cir\\\", :country nil, :faxUnlisted nil}, :phone \\\"410-222-6210\\\", :fax nil, :email nil} {:address {:fax nil, :email nil, :jurisdiction nil, :phone nil, :city \\\"Glen Burnie\\\", :county nil, :state \\\"MD\\\", :placeOfResidence nil, :zipcode \\\"21060-7928\\\", :phoneUnlisted nil, :line2 nil, :privacyWaiver nil, :cell nil, :line1 \\\"7900 Benesch Cir\\\", :country nil, :faxUnlisted nil}, :fax nil, :contactType {:id \\\"609e889fb8d2b5e2d7fc8439\\\", :name \\\"Billing\\\"}, :email nil, :phone \\\"410-222-6210\\\", :name \\\"Gina Gibson\\\", :title \\\"Director of Property Management\\\", :id \\\"5964025\\\", :company \\\"Pinewood Village 2\\\"}]\",\"13\":\"Kenny Cresswell Fitzgerald Oldsmobile Cadillac Inc 410-224-3480\",\"14\":\"TPM (Elevator)\",\"15\":\"2020-10-05\",\"_rn_\":\"20\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\nNow Maryland, being worse than New York, doesn't give you all the same information that you used for your original report. That means that only one of our graphs will actually render for both states.\n\nLuckily, Quarto lets us selectively render parts of the report using standard [chunk options](https://quarto.org/docs/computations/r.html#chunk-options). By making chunk evaluation conditional on the state being described, we can make our single report work for both states.\n\nWith some tweaking, we can edit our `.qmd` so it works for both states:\n\n```` markdown\n---\ntitle: \"Cool graphs about elevators\"\nauthor: Mike Mahoney\nsubtitle: \"Last generated on: 2023-06-12\"\ndate: today\nformat: \n  html: \n    echo: false\nparams: \n  region: \"NA\"\n  state: \"NY\"\n---\n\n```{{r}}\n#| message: false\nlibrary(elevators)\n\nlibrary(ggplot2)\ntheme_set(theme_minimal())\n```\n\n```{{r}}\n#| message: false\n#| warning: false\nif (params$state == \"MD\") {\n  elevators <- md_elevators\n  \n  if (!is.na(params$region) && params$region != \"NA\") {\n    elevators <- elevators[elevators$county == params$region, ]\n  }\n  \n  elevators <- elevators[c(\"equipment_capacity\", \"equipment_speed\")]\n  names(elevators) <- c(\"capacity_lbs\", \"speed_fpm\")\n  elevators$capacity_lbs <- as.numeric(elevators$capacity_lbs)\n  elevators$speed_fpm <- as.numeric(elevators$speed_fpm)\n  \n} else {\n  \n  if (!is.na(params$region) && params$region != \"NA\") {\n    elevators <- elevators[elevators$borough == params$region, ]\n  }\n  \n}\n\nif (nrow(elevators) == 0) {\n  stop(\"No elevators were selected. Did you misspell `region`?\")\n}\n```\n\n```{{r}}\n#| eval: !expr params$state == \"NY\"\n#| results: asis\n\ncat(\"## Speed over time\")\n```\n\n```{{r}}\n#| message: false\n#| warning: false\n#| eval: !expr params$state == \"NY\"\n#| results: asis\nelevators |> \n  ggplot(aes(approval_date, speed_fpm)) + \n  geom_point(alpha = 0.05) + \n  geom_smooth() + \n  scale_y_log10()\n```\n\n## Speed versus capacity\n\n```{{r}}\n#| message: false\n#| warning: false\nelevators |> \n  ggplot(aes(capacity_lbs, speed_fpm)) + \n  geom_point(alpha = 0.05) + \n  geom_smooth() + \n  scale_y_log10()\n```\n\n```{{r}}\n#| eval: !expr params$state == \"NY\"\n#| results: asis\n\ncat(\"## Where in the world did all my elevators go\")\n```\n\n```{{r}}\n#| message: false\n#| warning: false\n#| eval: !expr params$state == \"NY\"\n\nelevators |> \n  ggplot(aes(latitude, longitude)) + \n  geom_point(alpha = 0.05) + \n  coord_sf()\n```\n````\n\n\n\nOur New York report looks the same as ever, while the Maryland report [has a little less content](../../junkdrawer/more-complicated-logic/). As it deserves.\n\n# Parameterized SQL\n\nBut why stop there? Everyone loves your report. You're crowned elevator king. You've made your peace with knowing you'll never do anything but elevators again.\n\nIn order to make your life a little bit easier, you've loaded your elevator data into a database, so you don't need to keep track of the individual tables:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(DBI)\nlibrary(RSQLite)\ncon <- DBI::dbConnect(RSQLite::SQLite(), \"elevators.db\")\nDBI::dbWriteTable(\n  con, \n  \"ny_elevators\", \n  elevators::elevators, \n  overwrite = TRUE\n)\nDBI::dbWriteTable(\n  con, \n  \"md_elevators\", \n  elevators::md_elevators, \n  overwrite = TRUE\n)\nDBI::dbDisconnect(con)\n```\n:::\n\n\nThis will make it easier to incorporate additional data into your report, as new elevators are constructed and your colleague visits new states. It's easy enough to change your report over so that it reads from the database:\n\n````markdown\n---\ntitle: \"Cool graphs about elevators\"\nauthor: Mike Mahoney\nsubtitle: \"Last generated on: 2023-06-12\"\ndate: today\nformat: \n  html: \n    echo: false\nparams: \n  region: \"NA\"\n  state: \"MD\"\n---\n\n```{{r}}\n#| message: false\nlibrary(elevators)\n\nlibrary(ggplot2)\ntheme_set(theme_minimal())\n```\n\n```{{r}}\n#| message: false\n#| warning: false\ncon <- DBI::dbConnect(RSQLite::SQLite(), \"elevators.db\")\nquery <- \"SELECT \n    ?capacity_column AS capacity_lbs, \n    ?speed_column    AS speed_fpm,\n    ?approval_date   AS approval_date,\n    ?latitude        AS latitude, \n    ?longitude       AS longitude\n  FROM ?table\"\n\nif (params$state == \"NY\") {\n  query_args <- list(\n    capacity_column = DBI::dbQuoteIdentifier(con, \"capacity_lbs\"),\n    speed_column = DBI::dbQuoteIdentifier(con, \"speed_fpm\"),\n    approval_date = DBI::dbQuoteIdentifier(con, \"approval_date\"),\n    latitude = DBI::dbQuoteIdentifier(con, \"latitude\"),\n    longitude = DBI::dbQuoteIdentifier(con, \"longitude\"),\n    region_column = DBI::dbQuoteIdentifier(con, \"borough\"),\n    region = params$region\n  )\n} else {\n  query_args <- list(\n    capacity_column = DBI::dbQuoteIdentifier(con, \"equipment_capacity\"),\n    speed_column = DBI::dbQuoteIdentifier(con, \"equipment_speed\"),\n    approval_date = 0,\n    latitude = 0,\n    longitude = 0,\n    region_column = DBI::dbQuoteIdentifier(con, \"county\"),\n    region = params$region\n  )\n}\n\nif (!is.na(params$region) && params$region != \"NA\") {\n  query <- paste(query, \"\n  WHERE \n    ?region_column == ?region\")\n} else {\n  query_args <- head(query_args, -2)\n}\n  \nquery <- DBI::sqlInterpolate(\n  con, \n  query, \n  table = DBI::dbQuoteIdentifier(con, \"md_elevators\"),\n  .dots = query_args\n)\nelevators <- DBI::dbGetQuery(con, query)\nelevators$capacity_lbs <- as.numeric(elevators$capacity_lbs)\nelevators$speed_fpm <- as.numeric(elevators$speed_fpm)\nDBI::dbDisconnect(con)\n```\n\n```{{r}}\n#| eval: !expr params$state == \"NY\"\n#| results: asis\n\ncat(\"## Speed over time\")\n```\n\n```{{r}}\n#| message: false\n#| warning: false\n#| eval: !expr params$state == \"NY\"\n#| results: asis\nelevators |> \n  ggplot(aes(approval_date, speed_fpm)) + \n  geom_point(alpha = 0.05) + \n  geom_smooth() + \n  scale_y_log10()\n```\n\n## Speed versus capacity\n\n```{{r}}\n#| message: false\n#| warning: false\nelevators |> \n  ggplot(aes(capacity_lbs, speed_fpm)) + \n  geom_point(alpha = 0.05) + \n  geom_smooth() + \n  scale_y_log10()\n```\n\n```{{r}}\n#| eval: !expr params$state == \"NY\"\n#| results: asis\n\ncat(\"## Where in the world did all my elevators go\")\n```\n\n```{{r}}\n#| message: false\n#| warning: false\n#| eval: !expr params$state == \"NY\"\n#| results: asis\n\nelevators |> \n  ggplot(aes(latitude, longitude)) + \n  geom_point(alpha = 0.05) + \n  coord_sf()\n```\n````\n\n\n\nNote that I'm using `DBI::sqlInterpolate()` and `DBI::dbQuoteIdentifier()`, to make sure we're protecting our database from SQL injection attacks. And for this toy example, I'm hard-coding the database connection in. If your organization has a smart way to manage credentials, you'll probably want to plug into that system (and should _definitely_ not be storing passwords as plaintext in the file).\n\nAnd to step out of the bit for a minute, there's no reason that your Quarto document actually needs to generate a meaningful report. Sure, automatically updating a website (or emailing a PDF) is nice, but Quarto documents are able to run SQL queries, write out files, and do any other task you can do with any of the languages supported by knitr or jupyter. This makes it really easy to write powerful scripts that your colleagues can use to access and understand whatever data you're working with. \n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}